{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","data","ui","init","getPosts","then","posts","renderFeed","Post","attribution","caption","comments","created","filter","id","images","likes","link","location","tags","type","user","userLiked","usersPhoto","this","userPhoto","toggleLike","console","log","count","formatData","feed","Promise","resolve","reject","url","callback","xhr","XMLHttpRequest","open","responseType","onload","status","response","send","getJson","err","forEach","post","push","user_has_liked","users_in_photo","addLike","domNodes","postTemplate","text","preparePostData","full_name","document","querySelector","insertAdjacentHTML","updatePost"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n","import \"./styles.scss\";\nimport \"./reboot.scss\";\n\n// Data layer\n// TODO Move to separated file\nconst dataController = (function() {\n    // Define Post constructor\n    const Post = function(\n        attribution,\n        caption,\n        comments,\n        created,\n        filter,\n        id,\n        images,\n        likes,\n        link,\n        location,\n        tags,\n        type,\n        user,\n        userLiked,\n        usersPhoto\n    ) {\n        this.attribution = attribution;\n        this.caption = caption;\n        this.comments = comments;\n        this.created = created;\n        this.filter = filter;\n        this.id = id;\n        this.images = images;\n        this.likes = likes;\n        this.link = link;\n        this.location = location;\n        this.tags = tags;\n        this.type = type;\n        this.user = user;\n        this.userLiked = userLiked;\n        this.userPhoto = usersPhoto;\n    };\n\n    // Add method for handling user likes to post type\n    Post.prototype.toggleLike = function() {\n        console.log(\"Toogle Like\");\n        if (this.userLiked) {\n            this.likes.count--;\n            this.userLiked = false;\n        } else {\n            this.likes.count++;\n            this.userLiked = true;\n        }\n    };\n\n    // Add method for converting timestamp to human data\n    Post.prototype.formatData = function() {\n        // TODO Need to write logic :)\n    };\n\n    // Define and initialize posts array\n    const feed = [];\n\n    return {\n        // Module API for receiving post from server\n        getPosts: new Promise((resolve, reject) => {\n            // Construct request\n            const getJson = function(url, callback) {\n                const xhr = new XMLHttpRequest();\n                xhr.open(\"GET\", url, true);\n                xhr.responseType = \"json\";\n                xhr.onload = function() {\n                    var status = xhr.status;\n                    if (status === 200) {\n                        callback(null, xhr.response);\n                    } else {\n                        callback(status, xhr.response);\n                    }\n                };\n                xhr.send();\n            };\n            // Send request to API\n            getJson(\"response.json\", function(\n                err,\n                response\n            ) {\n                if (err !== null) {\n                    console.log(err);\n                    reject();\n                } else {\n                    // Build posts from response data and populate feed array\n                    response.data.forEach(function(post) {\n                        feed.push(\n                            new Post(\n                                post.attribution,\n                                post.caption,\n                                post.comments,\n                                post.created,\n                                post.filter,\n                                post.id,\n                                post.images,\n                                post.likes,\n                                post.link,\n                                post.location,\n                                post.tags,\n                                post.type,\n                                post.user,\n                                post.user_has_liked,\n                                post.users_in_photo\n                            )\n                        );\n                    });\n                    resolve(feed);\n                }\n            });\n        }),\n        // Module API for increment/decrement likes\n        addLike: function(id) {\n            // Find post in feed and call toggleLike()\n        }\n    };\n})();\n\n// UI layer\n// TODO Move to separated file\nconst uiController = (function() {\n    // Defines nodes constants\n    const domNodes = {\n        feed: \".feed\",\n        addLike: \".likes__add\"\n    };\n\n    // Define function for prepare post data to display, check null/undefined etc\n    const preparePostData = function(post) {\n        // Need to check other fields\n        if (!post.location) {\n            post.location = {\n                name: \"\"\n            };\n        }\n        if (!post.caption) {\n            post.caption = {\n                text: \"\"\n            };\n        }\n    };\n\n    return {\n        // Module API for render feed in browser\n        renderFeed: function(posts) {\n            let postTemplate;\n            // Populate post template for each feed item\n            posts.forEach(function(post) {\n                // Prepare post fields to display\n                preparePostData(post);\n                postTemplate =\n                    '<div id=\"'+ post.caption.id +'\" class=\"post\">' +\n                        '<div class=\"post__content\">' +\n                            '<div class=\"post__header\">' +\n                                '<div class=\"user-avatar\">' +\n                                    // Temporary use constants because instagram responds 403 for requests with provided urs from posts answer\n                                    '<img src=\"https://i.pinimg.com/736x/98/24/87/982487b4c7f48198099b987bc9afbf6b--happy-friday-cat.jpg\">' +\n                                '</div>' +\n                                '<div class=\"user-data\">' +\n                                    '<p class=\"user-data__name\">' +\n                                        post.user.full_name +\n                                    '</p>' +\n                                    '<p class=\"user-data__geo\">' +\n                                        post.location.name +\n                                    '</p>' +\n                                '</div>' +\n                            '</div>' +\n                            '<div class=\"post__media\">' +\n                                 // Temporary use constants because instagram responds 403 for requests with provided urs from posts answer\n                                '<img src=\"https://scontent-arn2-1.cdninstagram.com/vp/eef7dcabd20512ed4697e103241657fc/5BD5AE2A/t51.2885-15/e35/20902220_1669712239714211_8867482061636632576_n.jpg\">' +\n                            '</div>' +\n                            '<div class=\"post__body\">' +\n                                '<div class=\"likes\">' +\n                                    // Need to switch to addLike() in future\n                                    '<button onclick=\"alert(' + post.caption.id + ')\" class=\"likes__add\"><img src=\"data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTkuMS4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ3MS43MDEgNDcxLjcwMSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDcxLjcwMSA0NzEuNzAxOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjUxMnB4IiBoZWlnaHQ9IjUxMnB4Ij4KPGc+Cgk8cGF0aCBkPSJNNDMzLjYwMSw2Ny4wMDFjLTI0LjctMjQuNy01Ny40LTM4LjItOTIuMy0zOC4ycy02Ny43LDEzLjYtOTIuNCwzOC4zbC0xMi45LDEyLjlsLTEzLjEtMTMuMSAgIGMtMjQuNy0yNC43LTU3LjYtMzguNC05Mi41LTM4LjRjLTM0LjgsMC02Ny42LDEzLjYtOTIuMiwzOC4yYy0yNC43LDI0LjctMzguMyw1Ny41LTM4LjIsOTIuNGMwLDM0LjksMTMuNyw2Ny42LDM4LjQsOTIuMyAgIGwxODcuOCwxODcuOGMyLjYsMi42LDYuMSw0LDkuNSw0YzMuNCwwLDYuOS0xLjMsOS41LTMuOWwxODguMi0xODcuNWMyNC43LTI0LjcsMzguMy01Ny41LDM4LjMtOTIuNCAgIEM0NzEuODAxLDEyNC41MDEsNDU4LjMwMSw5MS43MDEsNDMzLjYwMSw2Ny4wMDF6IE00MTQuNDAxLDIzMi43MDFsLTE3OC43LDE3OGwtMTc4LjMtMTc4LjNjLTE5LjYtMTkuNi0zMC40LTQ1LjYtMzAuNC03My4zICAgczEwLjctNTMuNywzMC4zLTczLjJjMTkuNS0xOS41LDQ1LjUtMzAuMyw3My4xLTMwLjNjMjcuNywwLDUzLjgsMTAuOCw3My40LDMwLjRsMjIuNiwyMi42YzUuMyw1LjMsMTMuOCw1LjMsMTkuMSwwbDIyLjQtMjIuNCAgIGMxOS42LTE5LjYsNDUuNy0zMC40LDczLjMtMzAuNGMyNy42LDAsNTMuNiwxMC44LDczLjIsMzAuM2MxOS42LDE5LjYsMzAuMyw0NS42LDMwLjMsNzMuMyAgIEM0NDQuODAxLDE4Ny4xMDEsNDM0LjAwMSwyMTMuMTAxLDQxNC40MDEsMjMyLjcwMXoiIGZpbGw9IiMwMDAwMDAiLz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8L3N2Zz4K\" /></button>' +\n                                    '<p>' +\n                                        post.likes.count +\n                                    '</p>' +\n                                '</div>' +\n                                '<div class=\"text\">' +\n                                    '<p>' +\n                                        post.caption.text +\n                                    '</p>' +\n                                '</div>' +\n                            '</div>' +\n                        '</div>' +\n                    '</div>';\n                // Insert nodes into DOM\n                document\n                    .querySelector(domNodes.feed)\n                    .insertAdjacentHTML(\"beforeend\", postTemplate);\n            });\n        },\n        // update dom\n        updatePost: function(post) {}\n    };\n})();\n\n// Main app controller\nconst app = (function(data, ui) {\n    // addLike = function(post) {\n    //     data.addLike(post);\n    //     ui.updatePost(post);\n    // };\n    return {\n        init: function() {\n            data.getPosts.then(posts => {\n                ui.renderFeed(posts);\n            });\n        }\n    };\n})(dataController, uiController);\n\napp.init();\n\n"],"sourceRoot":""}